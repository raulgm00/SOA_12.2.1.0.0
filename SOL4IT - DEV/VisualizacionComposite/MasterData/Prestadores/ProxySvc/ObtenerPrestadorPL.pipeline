<?xml version="1.0" encoding="UTF-8"?>
<con:pipelineEntry xmlns:con="http://www.bea.com/wli/sb/pipeline/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con3="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con4="http://www.bea.com/wli/sb/stages/routing/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:coreEntry>
        <con:binding type="SOAP" isSoap12="false" xsi:type="con:SoapBindingType">
            <con:wsdl ref="MasterData/Prestadores/Resources/ObtenerPrestadorWSDL"/>
            <con:binding>
                <con:name>ObtenerPrestadorBPELBindingSOAP</con:name>
                <con:namespace>http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL</con:namespace>
            </con:binding>
        </con:binding>
        <con:xqConfiguration>
            <con:snippetVersion>1.0</con:snippetVersion>
        </con:xqConfiguration>
    </con:coreEntry>
    <con:router>
        <con:pipeline name="_onErrorHandler-N3f57fff6.N153e140a.4.159d29f0893.N7ffd" type="error">
            <con:stage name="stage1" id="_StageId-N53efe1e5.1d57f078.0.15bd9962a59.N7e1c">
                <con:context>
                    <con1:varNsDecl prefix="obt" namespace="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-b320018.33d06e72.1a.159d694ff10.N7ff3</con2:id>
                        <con1:location>
                            <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                        </con1:location>
                        <con1:expr>
                            <con2:xqueryText><![CDATA[fn-bea:inlinedXML(fn:concat('<obt:processResponse xmlns:obt="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL">
         <obt:numeroPrestador></obt:numeroPrestador>
         <obt:nombrePrestador></obt:nombrePrestador>
         <obt:rfc></obt:rfc>
         <obt:estatus>',$respConsultaEntidad//return/Status/text(),'</obt:estatus>

         <obt:cveTipoPersona></obt:cveTipoPersona>

         <obt:tipoPersona></obt:tipoPersona>

         <obt:cveEntidad></obt:cveEntidad>

         <obt:entidad></obt:entidad>

         <obt:cveNacionalidad></obt:cveNacionalidad>

         <obt:nacionalidad></obt:nacionalidad>
         <obt:OperationResponse xmlns:v1="http://qualitas.com.mx/comunes/objetosComunes/v1/">

            <v1:listaErrores>

               <v1:error idMotivo="" descripcion=""></v1:error>
            </v1:listaErrores>
            <v1:codigoOperacionoper></v1:codigoOperacionoper>
            <v1:codigoRespuesta>0</v1:codigoRespuesta>
            <v1:descripcionRespuesta>NO SE ENCONTRÓ PRESTADOR</v1:descripcionRespuesta>
            <v1:tiempoRespuesta></v1:tiempoRespuesta>
            <v1:fecha></v1:fecha>
         </obt:OperationResponse>
      </obt:processResponse>'
))]]></con2:xqueryText>
                        </con1:expr>
                    </con1:replace>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-b320018.33d06e72.24.159dd01c0a1.N8000</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="_onErrorHandler-b320018.33d06e72.21.159dc6b3b45.N7ffd" type="error">
            <con:stage name="stage1">
                <con:context>
                    <con1:varNsDecl prefix="obt" namespace="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-b320018.33d06e72.16.159d5962b88.N7ff4</con2:id>
                        <con1:location>
                            <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                        </con1:location>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[fn-bea:inlinedXML(fn:concat('<obt:processResponse xmlns:obt="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL">
         <obt:numeroPrestador></obt:numeroPrestador>
         <obt:nombrePrestador></obt:nombrePrestador>
         <obt:rfc>',$respConsultaEntidad//return/rfc/text(),'</obt:rfc>
         <obt:estatus>',$respConsultaEntidad//return/Status/text(),'</obt:estatus>

         <obt:cveTipoPersona></obt:cveTipoPersona>

         <obt:tipoPersona></obt:tipoPersona>

         <obt:cveEntidad></obt:cveEntidad>

         <obt:entidad></obt:entidad>

         <obt:cveNacionalidad></obt:cveNacionalidad>

         <obt:nacionalidad></obt:nacionalidad>
         <obt:OperationResponse xmlns:v1="http://qualitas.com.mx/comunes/objetosComunes/v1/">

            <v1:listaErrores>

               <v1:error idMotivo="" descripcion=""></v1:error>
            </v1:listaErrores>
            <v1:codigoOperacionoper></v1:codigoOperacionoper>
            <v1:codigoRespuesta>0</v1:codigoRespuesta>
            <v1:descripcionRespuesta>NO SE ENCONTRÓ PRESTADOR</v1:descripcionRespuesta>
            <v1:tiempoRespuesta></v1:tiempoRespuesta>
            <v1:fecha></v1:fecha>
         </obt:OperationResponse>
      </obt:processResponse>'
))]]></con:xqueryText>
                        </con1:expr>
                    </con1:replace>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-b320018.33d06e72.16.159d5962b88.N7ff3</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="error-N53efe1e5.1d57f078.0.15bd9962a59.N7d85" type="error">
            <con:stage name="stage1" id="_StageId-N53efe1e5.1d57f078.0.15bd9962a59.N7d84">
                <con:context>
                    <con1:varNsDecl prefix="obt" namespace="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d83</con2:id>
                        <con1:location>
                            <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                        </con1:location>
                        <con1:expr>
                            <con2:xqueryText><![CDATA[fn-bea:inlinedXML(fn:concat('<obt:processResponse xmlns:obt="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL">
         <obt:numeroPrestador></obt:numeroPrestador>
         <obt:nombrePrestador></obt:nombrePrestador>
         <obt:rfc></obt:rfc>
         <obt:estatus>',$respConsultaEntidad//return/Status/text(),'</obt:estatus>

         <obt:cveTipoPersona></obt:cveTipoPersona>

         <obt:tipoPersona></obt:tipoPersona>

         <obt:cveEntidad></obt:cveEntidad>

         <obt:entidad></obt:entidad>

         <obt:cveNacionalidad></obt:cveNacionalidad>

         <obt:nacionalidad></obt:nacionalidad>
         <obt:OperationResponse xmlns:v1="http://qualitas.com.mx/comunes/objetosComunes/v1/">

            <v1:listaErrores>

               <v1:error idMotivo="" descripcion=""></v1:error>
            </v1:listaErrores>
            <v1:codigoOperacionoper></v1:codigoOperacionoper>
            <v1:codigoRespuesta>0</v1:codigoRespuesta>
            <v1:descripcionRespuesta>NO SE ENCONTRÓ PRESTADOR</v1:descripcionRespuesta>
            <v1:tiempoRespuesta></v1:tiempoRespuesta>
            <v1:fecha></v1:fecha>
         </obt:OperationResponse>
      </obt:processResponse>'
))]]></con2:xqueryText>
                        </con1:expr>
                    </con1:replace>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d82</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="PipelinePairNode1_response" type="response">
            <con:stage name="stage1" errorHandler="_onErrorHandler-b320018.33d06e72.21.159dc6b3b45.N7ffd">
                <con:context>
                    <con1:userNsDecl prefix="db" namespace="http://xmlns.oracle.com/pcbpel/adapter/db/ConsultaEntidadDB" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                    <con1:varNsDecl prefix="obt" namespace="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse>
                        <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d7b</con2:id>
                        <con1:case id="_BranchId-N53efe1e5.1d57f078.0.15bd9962a59.N7d7a">
                            <con1:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">xs:string($tipoPrestador) = 'T'</con:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-b320018.33d06e72.17.159d5998e4f.N7ffc</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con2:xqueryText>fn-bea:inlinedXML(fn:concat('&lt;db:ConsultaEntidadDBInput  xmlns:db="http://xmlns.oracle.com/pcbpel/adapter/db/ConsultaEntidadDB">
&lt;db:cveEntidad>',$respConsultaEntidad//return/claveEstado/text(),'&lt;/db:cveEntidad>
&lt;/db:ConsultaEntidadDBInput>'))</con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                        <con1:case id="_BranchId-N53efe1e5.1d57f078.0.15bd9962a59.N7d74">
                            <con1:condition>
                                <con2:xqueryText>xs:string($tipoPrestador) = 'G'</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d76</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con2:xqueryText>fn-bea:inlinedXML(fn:concat('&lt;db:ConsultaEntidadDBInput  xmlns:db="http://xmlns.oracle.com/pcbpel/adapter/db/ConsultaEntidadDB">
&lt;db:cveEntidad>',$respConsultaEntidad//salidas/salida/atributos[5]/valor/text(),'&lt;/db:cveEntidad>
&lt;/db:ConsultaEntidadDBInput>'))</con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                        <con1:case id="_BranchId-N53efe1e5.1d57f078.0.15bd9962a59.N7d71">
                            <con1:condition>
                                <con2:xqueryText>xs:string($tipoPrestador) = 'P'</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d6e</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con2:xqueryText>fn-bea:inlinedXML(fn:concat('&lt;db:ConsultaEntidadDBInput  xmlns:db="http://xmlns.oracle.com/pcbpel/adapter/db/ConsultaEntidadDB">
&lt;db:cveEntidad>',$respConsultaEntidad//salidas/salida/atributos[5]/valor/text(),'&lt;/db:cveEntidad>
&lt;/db:ConsultaEntidadDBInput>'))</con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                    </con1:ifThenElse>
                    <con1:wsCallout>
                        <con2:id>_ActionId-b320018.33d06e72.12.159d53e5bb4.N7ffc</con2:id>
                        <con1:service ref="MasterData/Prestadores/BusinessSvc/ConsultaEntidadBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                        <con1:operation>ConsultaEntidadDB</con1:operation>
                        <con1:request>
                            <con1:body wrapped="true">body</con1:body>
                            <con1:header/>
                        </con1:request>
                        <con1:response>
                            <con1:body wrapped="true">resDescEntidad</con1:body>
                            <con1:header/>
                        </con1:response>
                        <con1:requestTransform/>
                        <con1:responseTransform>
                            <con3:log>
                                <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7ff8</con2:id>
                                <con3:logLevel>warning</con3:logLevel>
                                <con3:expr>
                                    <con2:xqueryText>$resDescEntidad</con2:xqueryText>
                                </con3:expr>
                                <con3:message>&lt;&lt;&lt;&lt; LOG  OBTENER PRESTADOR PL  CONSULTA A BASE DE DATOS >>>>
================================================>
:</con3:message>
                            </con3:log>
                        </con1:responseTransform>
                    </con1:wsCallout>
                    <con1:ifThenElse>
                        <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d56</con2:id>
                        <con1:case id="_BranchId-N53efe1e5.1d57f078.0.15bd9962a59.N7d55">
                            <con1:condition>
                                <con2:xqueryText>xs:string($tipoPrestador) = 'T'</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="RFC">
                                    <con2:id>_ActionId-b320018.33d06e72.4b.159f0bbf256.N8000</con2:id>
                                    <con1:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:replace($respConsultaEntidad//return/rfc/text(),"-","")</con:xqueryText>
                                    </con1:expr>
                                </con1:assign>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-b320018.33d06e72.12.159d53e5bb4.N7ffd</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con2:xqueryText><![CDATA[fn-bea:inlinedXML(fn:concat('<obt:processResponse xmlns:obt="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL">
         <obt:numeroPrestador>',$respConsultaEntidad//return/claveProveedor/text(),'</obt:numeroPrestador>
         <obt:nombrePrestador>',$respConsultaEntidad//return/descProveedor/text(),'</obt:nombrePrestador>
         <obt:rfc>',$RFC,'</obt:rfc>
         <obt:estatus>',$respConsultaEntidad//return/Status/text(),'</obt:estatus>

         <obt:cveTipoPersona>',$respConsultaEntidad//return/tipoPersona/text(),'</obt:cveTipoPersona>

         <obt:tipoPersona>',$respConsultaEntidad//return/descTipoPersona/text(),'</obt:tipoPersona>

         <obt:cveEntidad>',$respConsultaEntidad//return/claveEstado/text(),'</obt:cveEntidad>

         <obt:entidad>',$resDescEntidad//db:ConsultaEntidadDBOutput[1]/db:DESC_ENTIDAD/text(),'</obt:entidad>

         <obt:cveNacionalidad></obt:cveNacionalidad>

         <obt:nacionalidad></obt:nacionalidad>
         <obt:OperationResponse xmlns:v1="http://qualitas.com.mx/comunes/objetosComunes/v1/">

            <v1:listaErrores>

               <v1:error idMotivo="" descripcion=""></v1:error>
            </v1:listaErrores>
            <v1:codigoOperacionoper></v1:codigoOperacionoper>
            <v1:codigoRespuesta>0</v1:codigoRespuesta>
            <v1:descripcionRespuesta>EJECUCION EXITOSA</v1:descripcionRespuesta>
            <v1:tiempoRespuesta></v1:tiempoRespuesta>
            <v1:fecha></v1:fecha>
         </obt:OperationResponse>
      </obt:processResponse>'
))]]></con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                        <con1:case id="_BranchId-N53efe1e5.1d57f078.0.15bd9962a59.N7d53">
                            <con1:condition>
                                <con2:xqueryText>xs:string($tipoPrestador) = 'G'</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="RFC">
                                    <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d4c</con2:id>
                                    <con1:expr>
                                        <con2:xqueryText>fn:replace($respConsultaEntidad//salidas/salida/atributos[4]/valor/text(),"-","")</con2:xqueryText>
                                    </con1:expr>
                                </con1:assign>
                                <con1:assign varName="Nombre">
                                    <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f72</con2:id>
                                    <con1:expr>
                                        <con2:xqueryText>fn:normalize-space(fn:concat($respConsultaEntidad//salidas/salida/atributos[1]/valor/text()," ",$respConsultaEntidad//salidas/salida/atributos[2]/valor/text()," ",$respConsultaEntidad//salidas/salida/atributos[3]/valor/text()))</con2:xqueryText>
                                    </con1:expr>
                                </con1:assign>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d46</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con2:xqueryText><![CDATA[fn-bea:inlinedXML(fn:concat('<obt:processResponse xmlns:obt="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL">
         <obt:numeroPrestador>',$respConsultaEntidad//salidas/salida/llave/text(),'</obt:numeroPrestador>
         <obt:nombrePrestador>',$Nombre,'</obt:nombrePrestador>
         <obt:rfc>',$RFC,'</obt:rfc>
         <obt:estatus></obt:estatus>
         <obt:cveTipoPersona>',$respConsultaEntidad//salidas/salida/atributos[6]/valor/text(),'</obt:cveTipoPersona>
         <obt:tipoPersona></obt:tipoPersona>
         <obt:cveEntidad>',$respConsultaEntidad//salidas/salida/atributos[5]/valor/text(),'</obt:cveEntidad>
         <obt:entidad>',$resDescEntidad//db:ConsultaEntidadDBOutput[1]/db:DESC_ENTIDAD/text(),'</obt:entidad>
         <obt:cveNacionalidad></obt:cveNacionalidad>
         <obt:nacionalidad></obt:nacionalidad>
         <obt:OperationResponse xmlns:v1="http://qualitas.com.mx/comunes/objetosComunes/v1/">
            <v1:listaErrores>
               <v1:error idMotivo="" descripcion=""></v1:error>
            </v1:listaErrores>
            <v1:codigoOperacionoper></v1:codigoOperacionoper>
            <v1:codigoRespuesta>0</v1:codigoRespuesta>
            <v1:descripcionRespuesta>EJECUCION EXITOSA</v1:descripcionRespuesta>
            <v1:tiempoRespuesta></v1:tiempoRespuesta>
            <v1:fecha></v1:fecha>
         </obt:OperationResponse>
      </obt:processResponse>'
))]]></con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                                <con1:ifThenElse>
                                    <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f95</con2:id>
                                    <con1:case id="_BranchId-N53efe167.5b9d8a2e.0.15bedba0842.N7f94">
                                        <con1:condition>
                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:empty($respConsultaEntidad//salidas/salida/atributos[7]/valor/text())</con:xqueryText>
                                        </con1:condition>
                                        <con1:actions>
                                            <con1:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f89</con2:id>
                                                <con1:location>
                                                    <con2:xpathText>./obt:processResponse/obt:estatus</con2:xpathText>
                                                </con1:location>
                                                <con1:expr>
                                                    <con2:xqueryText>'A'</con2:xqueryText>
                                                </con1:expr>
                                            </con1:replace>
                                        </con1:actions>
                                    </con1:case>
                                    <con1:default>
                                        <con1:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f7d</con2:id>
                                            <con1:location>
                                                <con2:xpathText>./obt:processResponse/obt:estatus</con2:xpathText>
                                            </con1:location>
                                            <con1:expr>
                                                <con2:xqueryText>'I'</con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:default>
                                </con1:ifThenElse>
                                <con1:ifThenElse>
                                    <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f5f</con2:id>
                                    <con1:case id="_BranchId-N53efe167.5b9d8a2e.0.15bedba0842.N7f5e">
                                        <con1:condition>
                                            <con2:xqueryText>$respConsultaEntidad//salidas/salida/atributos[6]/valor/text() = 1</con2:xqueryText>
                                        </con1:condition>
                                        <con1:actions>
                                            <con1:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f53</con2:id>
                                                <con1:location>
                                                    <con2:xpathText>./obt:processResponse/obt:tipoPersona</con2:xpathText>
                                                </con1:location>
                                                <con1:expr>
                                                    <con2:xqueryText>'Física'</con2:xqueryText>
                                                </con1:expr>
                                            </con1:replace>
                                        </con1:actions>
                                    </con1:case>
                                    <con1:default>
                                        <con1:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f4f</con2:id>
                                            <con1:location>
                                                <con2:xpathText>./obt:processResponse/obt:tipoPersona</con2:xpathText>
                                            </con1:location>
                                            <con1:expr>
                                                <con2:xqueryText>'Moral'</con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:default>
                                </con1:ifThenElse>
                            </con1:actions>
                        </con1:case>
                        <con1:case id="_BranchId-N53efe1e5.1d57f078.0.15bd9962a59.N7d51">
                            <con1:condition>
                                <con2:xqueryText>xs:string($tipoPrestador) = 'P'</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="RFC">
                                    <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d4a</con2:id>
                                    <con1:expr>
                                        <con2:xqueryText>fn:replace($respConsultaEntidad//salidas/salida/atributos[4]/valor/text(),"-","")</con2:xqueryText>
                                    </con1:expr>
                                </con1:assign>
                                <con1:assign varName="Nombre">
                                    <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f6c</con2:id>
                                    <con1:expr>
                                        <con2:xqueryText>fn:normalize-space(fn:concat($respConsultaEntidad//salidas/salida/atributos[1]/valor/text()," ",$respConsultaEntidad//salidas/salida/atributos[2]/valor/text()," ",$respConsultaEntidad//salidas/salida/atributos[3]/valor/text()))</con2:xqueryText>
                                    </con1:expr>
                                </con1:assign>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d44</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con2:xqueryText><![CDATA[fn-bea:inlinedXML(fn:concat('<obt:processResponse xmlns:obt="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL">
         <obt:numeroPrestador>',$respConsultaEntidad//salidas/salida/llave/text(),'</obt:numeroPrestador>
         <obt:nombrePrestador>',$Nombre,'</obt:nombrePrestador>
         <obt:rfc>',$RFC,'</obt:rfc>
         <obt:estatus></obt:estatus>
         <obt:cveTipoPersona>',$respConsultaEntidad//salidas/salida/atributos[6]/valor/text(),'</obt:cveTipoPersona>
         <obt:tipoPersona></obt:tipoPersona>
         <obt:cveEntidad>',$respConsultaEntidad//salidas/salida/atributos[5]/valor/text(),'</obt:cveEntidad>
         <obt:entidad>',$resDescEntidad//db:ConsultaEntidadDBOutput[1]/db:DESC_ENTIDAD/text(),'</obt:entidad>
         <obt:cveNacionalidad></obt:cveNacionalidad>
         <obt:nacionalidad></obt:nacionalidad>
         <obt:OperationResponse xmlns:v1="http://qualitas.com.mx/comunes/objetosComunes/v1/">
            <v1:listaErrores>
               <v1:error idMotivo="" descripcion=""></v1:error>
            </v1:listaErrores>
            <v1:codigoOperacionoper></v1:codigoOperacionoper>
            <v1:codigoRespuesta>0</v1:codigoRespuesta>
            <v1:descripcionRespuesta>EJECUCION EXITOSA</v1:descripcionRespuesta>
            <v1:tiempoRespuesta></v1:tiempoRespuesta>
            <v1:fecha></v1:fecha>
         </obt:OperationResponse>
      </obt:processResponse>'
))]]></con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                                <con1:ifThenElse>
                                    <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f8d</con2:id>
                                    <con1:case id="_BranchId-N53efe167.5b9d8a2e.0.15bedba0842.N7f8c">
                                        <con1:condition>
                                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:empty($respConsultaEntidad//salidas/salida/atributos[7]/valor/text())</con:xqueryText>
                                        </con1:condition>
                                        <con1:actions>
                                            <con1:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f77</con2:id>
                                                <con1:location>
                                                    <con2:xpathText>./obt:processResponse/obt:estatus</con2:xpathText>
                                                </con1:location>
                                                <con1:expr>
                                                    <con2:xqueryText>'A'</con2:xqueryText>
                                                </con1:expr>
                                            </con1:replace>
                                        </con1:actions>
                                    </con1:case>
                                    <con1:default>
                                        <con1:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f7a</con2:id>
                                            <con1:location>
                                                <con2:xpathText>./obt:processResponse/obt:estatus</con2:xpathText>
                                            </con1:location>
                                            <con1:expr>
                                                <con2:xqueryText>'I'</con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:default>
                                </con1:ifThenElse>
                                <con1:ifThenElse>
                                    <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f57</con2:id>
                                    <con1:case id="_BranchId-N53efe167.5b9d8a2e.0.15bedba0842.N7f56">
                                        <con1:condition>
                                            <con2:xqueryText>$respConsultaEntidad//salidas/salida/atributos[6]/valor/text() = 1</con2:xqueryText>
                                        </con1:condition>
                                        <con1:actions>
                                            <con1:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f51</con2:id>
                                                <con1:location>
                                                    <con2:xpathText>./obt:processResponse/obt:tipoPersona</con2:xpathText>
                                                </con1:location>
                                                <con1:expr>
                                                    <con2:xqueryText>'Física'</con2:xqueryText>
                                                </con1:expr>
                                            </con1:replace>
                                        </con1:actions>
                                    </con1:case>
                                    <con1:default>
                                        <con1:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-N53efe167.5b9d8a2e.0.15bedba0842.N7f4d</con2:id>
                                            <con1:location>
                                                <con2:xpathText>./obt:processResponse/obt:tipoPersona</con2:xpathText>
                                            </con1:location>
                                            <con1:expr>
                                                <con2:xqueryText>'Moral'</con2:xqueryText>
                                            </con1:expr>
                                        </con1:replace>
                                    </con1:default>
                                </con1:ifThenElse>
                            </con1:actions>
                        </con1:case>
                    </con1:ifThenElse>
                    <con1:ifThenElse>
                        <con2:id>_ActionId-N5601ba3a.N71e684bc.3.159d704f4f4.N8000</con2:id>
                        <con1:case>
                            <con1:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body/obt:processResponse/obt:cveEntidad &lt;= 32000</con:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-N5601ba3a.N71e684bc.4.159d7085ddf.N8000</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">./obt:processResponse/obt:cveNacionalidad</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">1</con:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-N5601ba3a.N71e684bc.5.159d70a21df.N8000</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">./obt:processResponse/obt:nacionalidad</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">"MEXICANA"</con:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                        <con1:case>
                            <con1:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body/obt:processResponse/obt:cveEntidad >= 33000</con:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-b320018.33d06e72.16.159d5962b88.N7ff6</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">./obt:processResponse/obt:cveNacionalidad</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">2</con:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-b320018.33d06e72.23.159dc88214c.N8000</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">./obt:processResponse/obt:nacionalidad</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">"EXTRANJERA"</con:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                    </con1:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="error-N53efe1e5.1d57f078.0.15bd9962a59.N7d90" type="error">
            <con:stage name="stage1" id="_StageId-N53efe1e5.1d57f078.0.15bd9962a59.N7d8f">
                <con:context>
                    <con1:varNsDecl prefix="obt" namespace="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d8e</con2:id>
                        <con1:location>
                            <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                        </con1:location>
                        <con1:expr>
                            <con2:xqueryText><![CDATA[fn-bea:inlinedXML(fn:concat('<obt:processResponse xmlns:obt="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL">
         <obt:numeroPrestador></obt:numeroPrestador>
         <obt:nombrePrestador></obt:nombrePrestador>
         <obt:rfc></obt:rfc>
         <obt:estatus>',$respConsultaEntidad//return/Status/text(),'</obt:estatus>

         <obt:cveTipoPersona></obt:cveTipoPersona>

         <obt:tipoPersona></obt:tipoPersona>

         <obt:cveEntidad></obt:cveEntidad>

         <obt:entidad></obt:entidad>

         <obt:cveNacionalidad></obt:cveNacionalidad>

         <obt:nacionalidad></obt:nacionalidad>
         <obt:OperationResponse xmlns:v1="http://qualitas.com.mx/comunes/objetosComunes/v1/">

            <v1:listaErrores>

               <v1:error idMotivo="" descripcion=""></v1:error>
            </v1:listaErrores>
            <v1:codigoOperacionoper></v1:codigoOperacionoper>
            <v1:codigoRespuesta>0</v1:codigoRespuesta>
            <v1:descripcionRespuesta>NO SE ENCONTRÓ PRESTADOR</v1:descripcionRespuesta>
            <v1:tiempoRespuesta></v1:tiempoRespuesta>
            <v1:fecha></v1:fecha>
         </obt:OperationResponse>
      </obt:processResponse>'
))]]></con2:xqueryText>
                        </con1:expr>
                    </con1:replace>
                    <con1:reply isError="false" xmlns:con1="http://www.bea.com/wli/sb/stages/config">
                        <con1:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d8d</con1:id>
                    </con1:reply>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline name="PipelinePairNode1_request" type="request">
            <con:stage name="AsignacionPrestador">
                <con:context>
                    <con1:varNsDecl prefix="obt" namespace="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse>
                        <con2:id>_ActionId-N53efe1f5.N546523ac.0.15c0d41c935.N7f98</con2:id>
                        <con1:case id="_BranchId-N53efe1f5.N546523ac.0.15c0d41c935.N7f97">
                            <con1:condition>
                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:not(fn:exists($body//*:tipoPrestador))</con:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-N53efe1f5.N546523ac.0.15c0d41c935.N7ffb</con2:id>
                                    <con1:location>
                                        <con2:xpathText>.</con2:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config"><![CDATA[fn-bea:inlinedXML(fn:concat(
'<obt:process xmlns:obt="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL">',
	'<obt:numeroPrestador>',$body//*:numeroPrestador,'</obt:numeroPrestador>',
	'<obt:tipoPrestador>T</obt:tipoPrestador>',
'</obt:process>'
))]]></con:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                    </con1:ifThenElse>
                    <con1:assign varName="body_tmp">
                        <con2:id>_ActionId-b320018.33d06e72.1b.159d6bb83f7.N8000</con2:id>
                        <con1:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body</con:xqueryText>
                        </con1:expr>
                    </con1:assign>
                    <con3:log>
                        <con2:id>_ActionId-N53efe1f5.N546523ac.0.15c0d41c935.N7ff7</con2:id>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con2:xqueryText>$body_tmp</con2:xqueryText>
                        </con3:expr>
                        <con3:message>&lt; &lt; &lt; Body TMP > > >
:</con3:message>
                    </con3:log>
                    <con1:assign varName="tipoPrestador">
                        <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7fad</con2:id>
                        <con1:expr>
                            <con2:xqueryText>$body/obt:process/obt:tipoPrestador/text()</con2:xqueryText>
                        </con1:expr>
                    </con1:assign>
                    <con1:ifThenElse>
                        <con2:id>_ActionId-N53efe1fa.3599a660.0.15aba45ee69.N7fa1</con2:id>
                        <con1:case id="_BranchId-N53efe1fa.3599a660.0.15aba45ee69.N7fa0">
                            <con1:condition>
                                <con2:xqueryText>string-length(string($body/obt:process/obt:numeroPrestador/text())) = 1</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="idPresatdor">
                                    <con2:id>_ActionId-N53efe1fa.3599a660.0.15aba45ee69.N7f97</con2:id>
                                    <con1:expr>
                                        <con2:xqueryText>fn:concat('0000',$body/obt:process/obt:numeroPrestador/text())</con2:xqueryText>
                                    </con1:expr>
                                </con1:assign>
                            </con1:actions>
                        </con1:case>
                        <con1:case id="_BranchId-N53efe1fa.3599a660.0.15aba45ee69.N7f9e">
                            <con1:condition>
                                <con2:xqueryText>string-length(string($body/obt:process/obt:numeroPrestador/text())) = 2</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="idPresatdor">
                                    <con2:id>_ActionId-N53efe1fa.3599a660.0.15aba45ee69.N7f94</con2:id>
                                    <con1:expr>
                                        <con2:xqueryText>fn:concat('000',$body/obt:process/obt:numeroPrestador/text())</con2:xqueryText>
                                    </con1:expr>
                                </con1:assign>
                            </con1:actions>
                        </con1:case>
                        <con1:case id="_BranchId-N53efe1fa.3599a660.0.15aba45ee69.N7f9c">
                            <con1:condition>
                                <con2:xqueryText>string-length(string($body/obt:process/obt:numeroPrestador/text())) = 3</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="idPresatdor">
                                    <con2:id>_ActionId-N53efe1fa.3599a660.0.15aba45ee69.N7f91</con2:id>
                                    <con1:expr>
                                        <con2:xqueryText>fn:concat('00',$body/obt:process/obt:numeroPrestador/text())</con2:xqueryText>
                                    </con1:expr>
                                </con1:assign>
                            </con1:actions>
                        </con1:case>
                        <con1:case id="_BranchId-N53efe1fa.3599a660.0.15aba45ee69.N7f9a">
                            <con1:condition>
                                <con2:xqueryText>string-length(string($body/obt:process/obt:numeroPrestador/text())) = 4</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:assign varName="idPresatdor">
                                    <con2:id>_ActionId-N53efe1fa.3599a660.0.15aba45ee69.N7f8e</con2:id>
                                    <con1:expr>
                                        <con2:xqueryText>fn:concat('0',$body/obt:process/obt:numeroPrestador/text())</con2:xqueryText>
                                    </con1:expr>
                                </con1:assign>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:assign varName="idPresatdor">
                                <con2:id>_ActionId-N53efe1fa.3599a660.0.15aba45ee69.N7f8b</con2:id>
                                <con1:expr>
                                    <con2:xqueryText>$body/obt:process/obt:numeroPrestador/text()</con2:xqueryText>
                                </con1:expr>
                            </con1:assign>
                        </con1:default>
                    </con1:ifThenElse>
                    <con1:ifThenElse>
                        <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7fee</con2:id>
                        <con1:case id="_BranchId-N53efe1e5.1d57f078.0.15bd9962a59.N7fed">
                            <con1:condition>
                                <con2:xqueryText>xs:string($tipoPrestador) = 'T'</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-b320018.33d06e72.16.159d5962b88.N7ffe</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con2:xqueryText><![CDATA[fn-bea:inlinedXML(fn:concat('<web:getRegistros xmlns:web="http://webservices.wscatalogos.qualitas.com/">
                <tabla>MPRES</tabla>
         <columnas>claveProveedor</columnas>
         <columnas>Status</columnas>                                   
         <columnas>descProveedor</columnas>
         <columnas>rfc</columnas>
         <columnas>claveEstado</columnas>    
         <columnas>descTipoPersona</columnas>                       
         <columnas>tipoPersona</columnas>    
		<parametros>
			<campo>claveProveedor</campo>
			<operador>=</operador>
			<valores>',$idPresatdor,'</valores>
			</parametros>
      </web:getRegistros>'))]]></con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                        <con1:case id="_BranchId-N53efe1e5.1d57f078.0.15bd9962a59.N7feb">
                            <con1:condition>
                                <con2:xqueryText>xs:string($tipoPrestador) = 'G'</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7fb2</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con2:xqueryText><![CDATA[fn-bea:inlinedXML(fn:concat('<ser:validaEntradas xmlns:ser="http://service.centroscosto.qualitas.com.mx/">
			<entradas>
				<entrada>
					<archivo>MGRUPO</archivo>
					<atributos>1#2#3#31#28#9#13</atributos>
					<formato>U#U#U#U#U#U#U</formato>
					<llave>',$idPresatdor,'</llave>
				</entrada>
			</entradas>
</ser:validaEntradas>'))]]></con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                        <con1:case id="_BranchId-N53efe1e5.1d57f078.0.15bd9962a59.N7fb8">
                            <con1:condition>
                                <con2:xqueryText>xs:string($tipoPrestador) = 'P'</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7fb4</con2:id>
                                    <con1:location>
                                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con2:xqueryText><![CDATA[fn-bea:inlinedXML(fn:concat(
'<ser:validaEntradas xmlns:ser="http://service.centroscosto.qualitas.com.mx/">
			<entradas>
				<entrada>
					<archivo>MPROD</archivo>
					<atributos>1#102#103#3#10#2#29</atributos>
					<formato>U#U#U#U#U#U#U</formato>
					<llave>',$idPresatdor,'</llave>
				</entrada>
			</entradas>
</ser:validaEntradas>'))]]></con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                    </con1:ifThenElse>
                </con:actions>
            </con:stage>
            <con:stage id="_StageId-N53efe1ba.7785e419.0.15bfde418fb.N7f07" name="StageLogs">
                <con:context>
                    <con2:varNsDecl prefix="obt" namespace="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL"/>
                </con:context>
                <con:actions>
                    <con3:log>
                        <con2:id>_ActionId-N53efe1ba.7785e419.0.15bfde418fb.N7f06</con2:id>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con2:xqueryText>$body</con2:xqueryText>
                        </con3:expr>
                        <con3:message>&lt; &lt; BODY > > 
&lt;=======================
:</con3:message>
                    </con3:log>
                    <con3:log>
                        <con2:id>_ActionId-b320018.N6c01dd72.4.15bfec4ece4.N8000</con2:id>
                        <con3:logLevel>warning</con3:logLevel>
                        <con3:expr>
                            <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body_tmp</con:xqueryText>
                        </con3:expr>
                        <con3:message>&lt; &lt; BODY TMP> > 
&lt;=======================
:</con3:message>
                    </con3:log>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:flow>
            <con:pipeline-node name="PipelinePairNode1">
                <con:request>PipelinePairNode1_request</con:request>
                <con:response>PipelinePairNode1_response</con:response>
            </con:pipeline-node>
            <con:branch-node type="condition" id="_FlowId-N53efe1e5.1d57f078.0.15bd9962a59.N7e23" name="BranchNode1">
                <con:context>
                    <con2:userNsDecl prefix="obt" namespace="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL"/>
                </con:context>
                <con:branch-table variable="body_tmp">
                    <con:xpath>
                        <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body_tmp/obt:process/obt:tipoPrestador/text()</con:xpathText>
                    </con:xpath>
                    <con:branch name="Prestador">
                        <con:operator>equals</con:operator>
                        <con:value>'T'</con:value>
                        <con:flow>
                            <con:route-node name="Route_CatalogoServices" error-handler="_onErrorHandler-N3f57fff6.N153e140a.4.159d29f0893.N7ffd">
                                <con:context>
                                    <con1:varNsDecl prefix="obt" namespace="http://xmlns.oracle.com/ObtenerPrestadorApp/ObtenerPrestadorPrj/ObtenerPrestadorBPEL" xmlns:con1="http://www.bea.com/wli/sb/stages/config"/>
                                </con:context>
                                <con:actions>
                                    <con1:route xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                        <con2:id>_ActionId-N3f57fff6.N153e140a.1.159d28c6b51.N8000</con2:id>
                                        <con1:service ref="Operational/SISE/BusinessSvc/ERPCatalogsBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation passThrough="true"/>
                                        <con1:outboundTransform>
                                            <con3:log>
                                                <con2:id>_ActionId-N53efe1ba.7785e419.0.15bfde418fb.N7cd4</con2:id>
                                                <con3:logLevel>warning</con3:logLevel>
                                                <con3:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con3:expr>
                                                <con3:message>&lt; &lt; Body Route:CatalogoService >> 
&lt;===================================
:</con3:message>
                                            </con3:log>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con2:assign varName="respConsultaEntidad" xmlns:con2="http://www.bea.com/wli/sb/stages/transform/config">
                                                <con3:id xmlns:con3="http://www.bea.com/wli/sb/stages/config">_ActionId-b320018.33d06e72.16.159d5962b88.N7ffd</con3:id>
                                                <con2:expr>
                                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">$body</con:xqueryText>
                                                </con2:expr>
                                            </con2:assign>
                                            <con3:log>
                                                <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7ffb</con2:id>
                                                <con3:logLevel>warning</con3:logLevel>
                                                <con3:expr>
                                                    <con2:xqueryText>$respConsultaEntidad</con2:xqueryText>
                                                </con3:expr>
                                                <con3:message>&lt;&lt;&lt;&lt; LOG  OBTENER PRESTADOR PL  IP DIRECTA >>>>
=========================================>
:</con3:message>
                                            </con3:log>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="Agencia">
                        <con:operator>equals</con:operator>
                        <con:value>'G'</con:value>
                        <con:flow>
                            <con:route-node name="Route_ConsultaInfo_Agencia" error-handler="error-N53efe1e5.1d57f078.0.15bd9962a59.N7d90">
                                <con:context/>
                                <con:actions>
                                    <con4:route>
                                        <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7db1</con2:id>
                                        <con4:service ref="MasterData/Prestadores/BusinessSvc/ConsultaInformacionBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con4:operation passThrough="true"/>
                                        <con4:outboundTransform>
                                            <con3:log xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                                <con2:id>_ActionId-N53efe1ba.7785e419.0.15bfde418fb.N7cd1</con2:id>
                                                <con3:logLevel>warning</con3:logLevel>
                                                <con3:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con3:expr>
                                                <con3:message>&lt; &lt; Body Route:Consulta Gencia >> 
&lt; ===================================
:</con3:message>
                                            </con3:log>
                                        </con4:outboundTransform>
                                        <con4:responseTransform>
                                            <con1:assign varName="respConsultaEntidad">
                                                <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7da8</con2:id>
                                                <con1:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con1:expr>
                                            </con1:assign>
                                            <con3:log xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                                <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d9c</con2:id>
                                                <con3:logLevel>warning</con3:logLevel>
                                                <con3:expr>
                                                    <con2:xqueryText>$respConsultaEntidad</con2:xqueryText>
                                                </con3:expr>
                                                <con3:message>&lt;&lt;&lt;&lt; LOG  OBTENER PRESTADOR PL  IP DIRECTA >>>>
=========================================>
:</con3:message>
                                            </con3:log>
                                        </con4:responseTransform>
                                    </con4:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="Agente">
                        <con:operator>equals</con:operator>
                        <con:value>'P'</con:value>
                        <con:flow>
                            <con:route-node name="Route_ConsultaInfo_Agente" error-handler="error-N53efe1e5.1d57f078.0.15bd9962a59.N7d85">
                                <con:context/>
                                <con:actions>
                                    <con4:route>
                                        <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7dac</con2:id>
                                        <con4:service ref="MasterData/Prestadores/BusinessSvc/ConsultaInformacionBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con4:operation passThrough="true"/>
                                        <con4:outboundTransform>
                                            <con3:log xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                                <con2:id>_ActionId-N53efe1ba.7785e419.0.15bfde418fb.N7cce</con2:id>
                                                <con3:logLevel>warning</con3:logLevel>
                                                <con3:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con3:expr>
                                                <con3:message>&lt; &lt; Body Route:Consulta Agente >> 
&lt; ===================================
:</con3:message>
                                            </con3:log>
                                        </con4:outboundTransform>
                                        <con4:responseTransform>
                                            <con1:assign varName="respConsultaEntidad">
                                                <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7da5</con2:id>
                                                <con1:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con1:expr>
                                            </con1:assign>
                                            <con3:log xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                                                <con2:id>_ActionId-N53efe1e5.1d57f078.0.15bd9962a59.N7d9a</con2:id>
                                                <con3:logLevel>warning</con3:logLevel>
                                                <con3:expr>
                                                    <con2:xqueryText>$respConsultaEntidad</con2:xqueryText>
                                                </con3:expr>
                                                <con3:message>&lt;&lt;&lt;&lt; LOG  OBTENER PRESTADOR PL  IP DIRECTA >>>>
=========================================>
:</con3:message>
                                            </con3:log>
                                        </con4:responseTransform>
                                    </con4:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:default-branch>
                        <con:flow/>
                    </con:default-branch>
                </con:branch-table>
            </con:branch-node>
        </con:flow>
    </con:router>
</con:pipelineEntry>